(library
 (name common)
 (libraries hashcons)
 (preprocess (pps ppx_jane ppx_deriving.show))
 (modules common))

(library
 (name SGALib)
 (modules SGA SGALib)
 (libraries common)
 (preprocess (pps ppx_jane ppx_deriving.show))
 (flags (:standard -w -39)))

(library
 (name lv)
 (modules lv)
 (libraries parsexp common SGALib zarith)
 (preprocess (pps ppx_jane ppx_deriving.show)))

(library
 (name backends)
 (modules verilog dot cpp coq)
 (libraries common SGALib lv zarith)
 (preprocess (pps ppx_jane ppx_deriving.show)))

(executable
 (name coq_examples)
 (modules coq_examples)
 (libraries common SGALib backends)
 (preprocess (pps ppx_jane ppx_deriving.show)))

(executable
 (name cli)
 (modules cli)
 (preprocess (pps ppx_jane ppx_deriving.show))
 (libraries str zarith base core stdio SGALib common lv backends))

(env
 (dev
  (flags (:standard -warn-error -A \ -short-paths))))
