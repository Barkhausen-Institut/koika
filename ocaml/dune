(library
 (name common)
 (libraries hashcons)
 (preprocess (pps ppx_jane ppx_deriving.show))
 (modules common))

(library
 (name SGALib)
 (modules SGA SGALib)
 (libraries common)
 (preprocess (pps ppx_jane ppx_deriving.show))
 (flags (:standard -w -39)))

(library
 (name backends)
 (modules verilog dot cpp)
 (libraries common SGALib zarith)
 (preprocess (pps ppx_jane ppx_deriving.show)))

(executable
 (name coq_examples)
 (modules coq_examples)
 (libraries common SGALib backends)
 (preprocess (pps ppx_jane ppx_deriving.show)))

(executable
 (name cli)
 (modules cli)
 (preprocess (pps ppx_jane ppx_deriving.show))
 (libraries parsexp str zarith base core stdio SGALib common backends))

(env
 (dev
  (flags (:standard -warn-error -A))))
