1.Extract the design from coq (TODO fix that flow):


make
cd examples
mv rv/dune rv/duneBak
dune build rv/RVCore.vo
cd rv
cp ../../_build/default/examples/rv32icore.ml rv32icore.ml
cp ../../_build/default/examples/rv32icore.mli rv32icore.mli
mv duneBak dune
dune build rv32icore.exe
../../_build/default/examples/rv/rv32icore.exe


2. Compile the cpp:

g++ -O3 rv_driver.cpp -o rv_core.exe

3. Run the executable

./rv_core.exe add32 30000

This will load the elf file add32 in instruction memory and run 30000 cycles of the design